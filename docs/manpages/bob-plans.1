.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
.TH BOB "1" "May 2015" "Bob the Constructinator version 4.2 (revision 9097c90ce885)" "User Commands"
.SH NAME
bob-plans \- plans used by bob to build things
.SH SYNOPSIS
.B bob
\fI<plan file or URI> \fR[\fIoptions\fR]
.SH DESCRIPTION
Bob the Constructinator a.k.a. \fBbob\fR is a command line tool written in python to automate building packages from a git repo into a conary package consumable for Conary enabled systems. bob can leverage WMS and git to enable continuous integration builds.

\fBbob\fR uses a bob-plan to build a conary recipe from a scm checkout. bob supports git, WMS, and hg (mercurial). Bob can build a specific tag or version of an scm repo through command line options.

.B
\fBProcedure\fR

Create a git repo for source
Create a conary recipe to build source
Create a bob-plan for git repo
Run bob passing the location of the plan file

Bob plan config options


.TP
targetLabel             
 String representing the label to promote trove build to

# source

.TP
macros                  
 Dictionary of conary macros passed onto the rmake build job
.TP
override                
 Dictionary ?
.TP
resolveTroves           
 List of Quoted Line List of Strings representing the full label of troves required in the chroot for the build
.TP
resolveTrovesOnly       
 Boolean defaults True only use troves specified in resolveTroves when resolving dependencies for build
.TP
ephemeral               
 Boolean defaults False toggles if source is included in final source trove (means can not recreate without the original scm is available) 
.TP
ephemeralSourceDir      
 Path to ephemeral source location as laid down by bob
.TP
autoLoadRecipes         
 List of Strings representing the full location of the autoLoadRecipes required for building packages
.TP
scm                     
 String representation of the scm location
.TP
refreshSources          
 Boolean defaults False toggles using sources from conary repository cache (equivalent of cvc refresh)
.TP
wmsBase                 
 String representation of the url defining the location of the WMS service

# build

.TP
installLabelPath        
 Quoted Line List of Strings representing the installLabelPath config option to be passed to rmake (if resolveTroves only is false then build reqs will be resolved from installLabelPath)
.TP
needWmsToken            
 Boolean toggles the need for WMS token
.TP
noClean                 
 Boolean defaults to False toggles clean up of the rMake chroot immediately after a successful build
.TP
shortenGroupFlavors     
 Boolean defaults True
.TP
target                  
 List of Strings representing the target sections to build in run
.TP
showBuildLogs           
 Boolean defaults False toggle verbose build logs
.TP
defaultBuildReqs        
 List of Strings of defaultBuildReqs for build (list of troves to be added to buildRequirements regardless of what is specified in recipe)
.TP
rpmRequirements         
 List of Dependencies specifying the version of rpm to during chroot construction

# misc

.TP
commitMessage           
 String conary commit message defaults to 'Automated clone by bob'
.TP
skipMacros              
 List of strings of macros to not include ['version']

# debugging

.TP
dumpRecipes             
 Boolean True dumps the contents of the conary recipe to be built
.TP
depMode                 
 Boolean True ???
.TP
recipeDir               
 String representation of the path to the conary recipe directory


Target Section config options

.TP
scm                     
 String represents the location of the git repo
.TP
after                   
 List of Strings used to make sure target is built after a parent target
.TP
classVar                
 Dictionary of Conary recipe Class Variables values to be munged
.TP
flavor_mask             
 String representing the Flavor Mask for the troves
.TP
flavor_set              
 String representing the Flavor Set for the troves
.TP
flavor                  
 String representing the Flavor of the trove
.TP
macros                  
 Dictionary of conary macros passed in to the rmake job
.TP
version                 
 String representing the version of the trove and repo to be mangled by bob in final trove
.TP
sourceTree              
 String path to the directory containing the conary recipe and any files required for the trove
.TP
serializeFlavors        
.TP
noBuild                 
 Boolean True tells bob to skip building and only commit the source to the conary repo.TP
factory                 
 String representing the conary factory used to build the conary recipe
.PP
Bob the Constructinator version 4.2 (revision 9097c90ce885)
Copyright (c) SAS Institute, Inc.
All rights reserved.

.SH EXAMPLES

includeConfigFile ../config/common.conf

scm thirdparty_application wms gerrit/Apps/Infra/thirdparty.application %(branch)s

macros ci_label foo@bar.com@b:devel

targetLabel %(ci_label)s

target thirdparty-application

[target:thirdparty-application]
version %(version)s.%(scm)s
scm thirdparty_application
sourceTree thirdparty_application recipes/
flavor_set x86_64

.SH SEEALSO
bob --help 

.TP
\fIbob\-jenkins\fP(1)
.TP
\fIbob\-deps\fP(1)
.SH BUGS
file issues or bugs https://opensource.sas.com/its
.SH AUTHORS
bob was written by SAS http://www.sas.com/
.SH COPYRIGHT
Copyright (c) SAS Institute Inc.
.PP
Copyright \(co SAS Institute, Inc.
All rights reserved.
.PP
bob 4.2
